// schema.prisma
generator client {
  provider = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
  directUrl = env("SB_CONNECT")
  schemas   = ["public", "ctrl-Y"]
}

//model書く時一番下に"  @@schema("ctrl-Y")  "追加でスキーマを指定
//その一つ上にテーブル指定
model Task {
  task_id    Int      @id @default(autoincrement())
  t_name       String   @db.Text
  memo       String?  @db.Text
  reward     Int      @db.SmallInt
  deadline   DateTime @db.Timestamptz
  s_id       Int      @db.SmallInt

  @@map("tasks") 
  @@schema("ctrl-Y")
}

model User {
  user_id String  @id @default(uuid())
  email        String   @db.Text @unique
  password     String   @db.Text
  keyword      String?   @db.Text
  cutoff_day   Boolean?
  pay_day      Boolean?
  registered_at DateTime  @default(now())
  updated_at    DateTime @default(now())

  @@map("parent_acc")
  @@schema("ctrl-Y")
}

model Child {
  user_id String @id @default(uuid())
  parent_id String
  c_name String @db.Text
  icon_path String @db.Text
  registered_at DateTime @db.Timestamptz(6)
  updated_at DateTime @db.Timestamptz(6)

  @@map("child_acc")
  @@schema("ctrl-Y")
}
